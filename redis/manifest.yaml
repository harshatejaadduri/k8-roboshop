apiVersion: apps/v1
kind: Deployment
metadata:
 name: redis 
 namespace: roboshop
 labels:
  component: redis
  environment: dev
  tier: database
spec:
 replicas: 1
 selector:
  matchLabels:
    component: redis
    environment: dev
    tier: database
 template:
  metadata:
   labels:
    component: redis
    environment: dev
    tier: database    
  spec: 
   containers:
    - name: redis
      image: redis:7.0 

--- 
apiVersion: v1
kind: Service
metadata: 
 name: redis
 namespace: roboshop
 labels:
    component: redis
    environment: dev
    tier: database  
spec:
 selector:
  component: redis
  environment: dev
  tier: database
 ports: 
  - protocol: TCP
    port: 6379
    targetPort: 6379